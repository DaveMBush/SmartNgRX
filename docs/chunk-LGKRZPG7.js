import{a as g}from"./chunk-CDOWFHT3.js";import{a as p}from"./chunk-J5WSNC3N.js";import"./chunk-T2TPJYPD.js";import"./chunk-GSP52HBJ.js";import{a as n}from"./chunk-D5VJN27U.js";import{X as u}from"./chunk-WOBS4B3T.js";import"./chunk-XH3XHKSK.js";import{Ba as r,Fa as l,Wa as c,sb as d}from"./chunk-AVEIMZJF.js";import{a as i,b as o,h as y}from"./chunk-TWZW5B45.js";var m=y(u());var D={title:"Smart Signals",mdFile:"./index.md",order:8,category:g},s=D;var h=[];var f={},k=f;var F=`<h1 id="smart-signals" href="using-smart-signals/smart-signals" headinglink="true" class="ngde">Smart Signals<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="smart-signals"></ng-doc-heading-anchor></h1><p class="ngde">And now, we can use the <code class="ngde ng-doc-code-with-link"><a href="internal-api/interfaces/internal-api/ChildDefinitionSignals" class="ng-doc-code-anchor ngde">ChildDefinitionSignals</a></code> interface to create a "selector" that will retrieve the child entity for the parent entity. We can use this selector in our components to retrieve the row(s) and their children from the store.</p><p class="ngde">Note that the <code class="ngde ng-doc-code-with-link"><a href="internal-api/functions/internal-api/createSmartSignal" class="ng-doc-code-anchor ngde">createSmartSignal</a></code> function takes an array of <code class="ngde ng-doc-code-with-link"><a href="internal-api/interfaces/internal-api/ChildDefinitionSignals" class="ng-doc-code-anchor ngde">ChildDefinitionSignals</a></code> objects. This allows us to create a signal that will retrieve multiple child entities from the parent entity. That is, one row may point to multiple children. By passing the array you can account for each of them with one call.</p><p class="ngde">In the case where your <code class="ngde">User</code> row might have some child field named, <code class="ngde">roles</code> your <code class="ngde ng-doc-code-with-link"><a href="internal-api/functions/internal-api/createSmartSignal" class="ng-doc-code-anchor ngde">createSmartSignal</a></code> call might look like this:</p><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">export</span><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde"> const</span><span style="color:#005CC5;--shiki-dark:#BFBDB6" class="ngde"> selectUserChildren</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde"> =</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> <a href="internal-api/functions/internal-api/createSmartSignal" class="ng-doc-code-anchor ngde">createSmartSignal</a></span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(selectUser</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> [</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">  {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    childFeature</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'shared'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    childEntity</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'roles'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    parentField</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'roles'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    parentFeature</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'shared'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    parentEntity</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'users'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    childSelector</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> selectRoles</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">  }</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">])</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span></code></pre><p class="ngde">The first parameter to <code class="ngde ng-doc-code-with-link"><a href="internal-api/functions/internal-api/createSmartSignal" class="ng-doc-code-anchor ngde">createSmartSignal</a></code> expects a signal that returns the parent entity. If you want to use some other selector, you'll need to convert it to a signal that returns an Entity first.</p><p class="ngde">In order for smartSignals to work correctly, there are two conditions.</p><p class="ngde">First, all the signals used in a SmartSignal must also be SmartSignals. If you need a signal that has no children, you can retrieve it by using the feature name and entity name:</p><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">const</span><span style="color:#005CC5;--shiki-dark:#BFBDB6" class="ngde"> rawSignal</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde"> =</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> <a href="internal-api/functions/internal-api/createSmartSignal" class="ng-doc-code-anchor ngde">createSmartSignal</a></span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">'feature'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'entity)</span><span style="color:#B31D28;--shiki-dark:#D95757;font-style:italic;--shiki-dark-font-style:inherit" class="ngde">;</span></span></code></pre><p class="ngde">Secondly, signals need to be chained. That is, if you have an entity that has children that itself has children, each childSelector must point to the smart signal that retrieves the entities children.</p>`,t=class e extends n{constructor(){super();this.pageType="guide";this.pageContent=F;this.editSourceFileUrl="https://github.com/DaveMBush/SmartNgRX/edit/main/apps/documentation/src/app/using-smart-signals/smart-signals/index.md?message=docs(): describe your changes here...";this.viewSourceFileUrl="https://github.com/DaveMBush/SmartNgRX/blob/release/apps/documentation/src/app/using-smart-signals/smart-signals/index.md";this.page=s;this.demoAssets=k}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=r({type:e,selectors:[["ng-doc-page-cxph1tmj"]],features:[d([{provide:n,useExisting:e},h,s.providers??[]]),l],decls:1,vars:0,template:function(a,C){a&1&&c(0,"ng-doc-page")},dependencies:[p],encapsulation:2,changeDetection:0})}},S=[o(i({},(0,m.isRoute)(s.route)?s.route:{}),{path:"",component:t,title:"Smart Signals"})],L=S;export{t as PageComponent,L as default};
