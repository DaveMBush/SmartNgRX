import{a as p}from"./chunk-CG3MNAEL.js";import"./chunk-3FR5PQZO.js";import"./chunk-T4WX5D76.js";import{a as g}from"./chunk-C5SIYBOV.js";import{a as t}from"./chunk-LSIHCBJT.js";import"./chunk-PZEHRWLK.js";import{X as u}from"./chunk-CQLVC7LO.js";import{Qa as l,pb as d,ta as c,xa as i}from"./chunk-JNJDPWAB.js";import{a as o,b as r,h as y}from"./chunk-TWZW5B45.js";var k=y(u());var f={title:"Smart Selector",mdFile:"./index.md",order:8,category:g},s=f;var h=[];var D={},m=D;var F=`<h1 id="smart-selector" href="using-smart-ng-rx/smart-selector" headinglink="true" class="ngde">Smart Selector<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="smart-selector"></ng-doc-heading-anchor></h1><p class="ngde">And now, we can use the <code class="ngde ng-doc-code-with-link"><a href="internal-api/interfaces/internal-api/ChildDefinitionClassic" class="ng-doc-code-anchor ngde">ChildDefinitionClassic</a></code> interface to create a selector that will retrieve the child entity for the parent entity. We can use this selector in our components to retrieve the row(s) and their children from the store.</p><p class="ngde">Note that the <code class="ngde ng-doc-code-with-link"><a href="smart-ngrx-api/functions/smart-ngrx-api/createSmartSelector" class="ng-doc-code-anchor ngde">createSmartSelector</a></code> function takes an array of <code class="ngde ng-doc-code-with-link"><a href="internal-api/interfaces/internal-api/ChildDefinitionSignals" class="ng-doc-code-anchor ngde">ChildDefinitionSignals</a></code> objects. This allows us to create a selector that will retrieve multiple child entities from the parent entity. That is, one row may point to multiple children. By passing the array you can account for each of them with one call.</p><p class="ngde">In the case where your <code class="ngde">User</code> row might have some child field named, <code class="ngde">roles</code> your <code class="ngde ng-doc-code-with-link"><a href="smart-ngrx-api/functions/smart-ngrx-api/createSmartSelector" class="ng-doc-code-anchor ngde">createSmartSelector</a></code> call might look like this:</p><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">export</span><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde"> const</span><span style="color:#005CC5;--shiki-dark:#BFBDB6" class="ngde"> selectUserChildren</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde"> =</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> <a href="smart-ngrx-api/functions/smart-ngrx-api/createSmartSelector" class="ng-doc-code-anchor ngde">createSmartSelector</a></span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(selectUser</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> [</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">  {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    childFeature</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'shared'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    childEntity</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'roles'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    parentField</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'roles'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    parentFeature</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'shared'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    parentEntity</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'users'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">    childSelector</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">:</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> selectRoles</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">  }</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">])</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span></code></pre><p class="ngde">The first parameter to <code class="ngde ng-doc-code-with-link"><a href="smart-ngrx-api/functions/smart-ngrx-api/createSmartSelector" class="ng-doc-code-anchor ngde">createSmartSelector</a></code> expects a selector that returns the parent entity. If you want to use some other selector, you'll need to convert it to a selector that returns an Entity first. See <a href="../using-smart-ng-rx/using-with-existing-selectors" class="ngde">Using With Existing Selectors</a> for more information.</p><p class="ngde">While not absolutely necessary for SmartNgRX, it is best to chain smartSelectors together. That is, childSelectors should point to other smart selectors unless the childSelector has no children. In that case, it should be an entity selector.</p><p class="ngde">What may not be obvious is that for at least one of these selectors, you may need to access state that has not been manipulated by a smart selector. Instead of using your own selector, you can take advantage of the version of <code class="ngde ng-doc-code-with-link"><a href="smart-ngrx-api/functions/smart-ngrx-api/createSmartSelector" class="ng-doc-code-anchor ngde">createSmartSelector</a></code> that takes two string parameters. The first parameter is the name of the feature. The second is the name of the entity. Make sure you specify the type of the entity you will be returning.</p><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">export</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> users = <a href="smart-ngrx-api/functions/smart-ngrx-api/createSmartSelector" class="ng-doc-code-anchor ngde">createSmartSelector</a>&#x3C;User>(</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">'shared'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'users)</span><span style="color:#B31D28;--shiki-dark:#D95757;font-style:italic;--shiki-dark-font-style:inherit" class="ngde">;</span></span></code></pre>`,e=class e extends t{constructor(){super();this.pageType="guide";this.pageContent=F;this.editSourceFileUrl="https://github.com/DaveMBush/SmartNgRX/edit/main/apps/documentation/src/app/using-smart-ng-rx/smart-selector/index.md?message=docs(): describe your changes here...";this.viewSourceFileUrl="https://github.com/DaveMBush/SmartNgRX/blob/release/apps/documentation/src/app/using-smart-ng-rx/smart-selector/index.md";this.page=s;this.demoAssets=m}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=c({type:e,selectors:[["ng-doc-page-13bwda6o"]],features:[d([{provide:t,useExisting:e},h,s.providers??[]]),i],decls:1,vars:0,template:function(a,E){a&1&&l(0,"ng-doc-page")},dependencies:[p],encapsulation:2,changeDetection:0});var n=e,S=[r(o({},(0,k.isRoute)(s.route)?s.route:{}),{path:"",component:n,title:"Smart Selector"})],L=S;export{n as PageComponent,L as default};
